{% extends "template.html" %}

<!--Example of a form that will be used with a "normal" POST method instead of a jQuery request -->

{% block title %}
<div class="page-header">
  <h1>Add new user:</h1>
</div>
{% endblock title %}


{% block content %}

<body>
  <div class="container">
    <form action="/users" method="post">

      <fieldset>

        <div class="form-group">
          <label for="user_name">User name</label>
          <input type="text" id="user_name" name="user_name" class="form-control">
        </div>

        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" name="name" class="form-control">
        </div>

        <div class="form-group">
          <label for="password1">Password:</label>
          <input type="password" id="password1" name="password1" class="form-control">
        </div>

        <div class="form-group">
          <label for="password2">Confirm password:</label>
          <input type="password" id="password2" name="password2" class="form-control">
        </div>

        <input type="hidden" id="admin_hidden" value="False" name="admin">
        <input type="checkbox" id="admin" name="admin" value="True">
        <label for="admin"> Admin user (can create other users)</label><br>

        <button type="submit" class="btn btn-success">Salvar</button>
      </fieldset>

    </form>
  </div>
</body>
<!-- JS to enable/disble the checkbox of the hidden input otherwise the check will not send any data to the POST -->
<script>
  const element = document.getElementById("admin");
  element.addEventListener('click', () => {
    if (element.checked) {
      document.getElementById('admin_hidden').disabled = true;
    } else {
      document.getElementById('admin_hidden').disabled = false;
    }
})
</script>

{% endblock content %}
